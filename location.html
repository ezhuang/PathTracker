
<html>
  <head>
    <style>
      #map {
        height: 100%;
      }
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
	   #wrapper { position: relative; }
        #over_map_button { position: absolute; bottom: 1em; left: 35%; z-index: 99; width: 30%}
	 </style>
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">

  </head>

  <body>
	  <div id="wrapper">
		<div id="map"></div>
          <button type="button" class="btn btn-primary" id="over_map_button">Start</button>
		</div>
  </body>
      <script>
      function initMap() {
        var myLatLng = {lat: -25.363, lng: 131.044};

        // Create a map object and specify the DOM element
        // for display.
        var map = new google.maps.Map(document.getElementById('map'), {
          center: myLatLng,
          zoom: 4
        });

        // Create a marker and set its position.
        var marker = new google.maps.Marker({
            map: map,
            position: myLatLng,
            title: 'Destination',
            draggable:true
        });
		
		var walkPath = new google.maps.Polyline({
          path: [],
          geodesic: true,
          strokeColor: '#FF0000',
          strokeOpacity: 1.0,
          strokeWeight: 4
        });
		
		walkPath.setMap(map);

          // Try HTML5 geolocation.
          if (navigator.geolocation) {
              navigator.geolocation.getCurrentPosition(function(position) {
                  var pos = {
                      lat: position.coords.latitude,
                      lng: position.coords.longitude
                  };

                  marker.setPosition(pos);
                  map.setCenter(pos);
                  map.setZoom(17);
              }, function() {
                  handleLocationError(true, infoWindow, map.getCenter());
              });
          } else {
              // Browser doesn't support Geolocation
                handleLocationError(false, infoWindow, map.getCenter());
          }

          var periodicallyUpdatePath = function () {
              if (navigator.geolocation) {
                  navigator.geolocation.getCurrentPosition(function(position) {
                      var newPath = walkPath.getPath();
                      newPath.push(new google.maps.LatLng(position.coords.latitude, position.coords.longitude));
                      walkPath.setPath(newPath);
                      console.log(newPath);
                  }, function(err) {
                      handleLocationError('getCurrentPosition exception:' + err.message );
                  });
              } else {
                  // Browser doesn't support Geolocation
                  handleLocationError('location not exist');
              }
          }

          var handleLocationError = function (m){
              alert(m);
          }

          setInterval(periodicallyUpdatePath, 2000);
      }



    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDPnV_7djRAy8m_RuM5T0QIHU5R-07s3Ic&callback=initMap"
        async defer></script>
      <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
</html>